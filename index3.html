<html>
    <head>
        <script src="https://unpkg.com/react@17/umd/react.development.js" crossorigin></script>
        <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js" crossorigin></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Faker/3.1.0/faker.min.js"></script>
        <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    </head>
        <body>
            <h1>Companies</h1>
            <div id = 'root'></div>
            <script type='text/babel'>
                class App extends React.Component {
                    constructor() {
                        super();
                        this.state = {
                            names: []
                        };
                        this.addCompany = this.addCompany.bind(this);
                    }

                deleteCompany(idx){
                    const names = this.state.names.filter((_, _idx)=> _idx !== idx);
                    this.setState({ names });
                }    

                addCompany() {
                    this.setState({ names: [...this.state.names, faker.company.companyName()]});
                }    

                    render() {
                        // const { names } = this.state;

                        return (
                        <div>
                         <button onClick={this.addCompany}>Add</button>
                         <ul>
                            {
                                this.state.names.map( (name, idx) => {
                                    return (
                                        <li key={ idx }>
                                            { name }
                                            <button onClick={()=> this.deleteCompany(idx)}>x</button>
                                        </li>
                                    );
                                })
                            }
                            </ul>
                        </div>
                        );
                    }
                };

               const root = document.querySelector('#root'); 
               ReactDOM.render(React.createElement(App), root);
            </script>
        </body>
</html>
